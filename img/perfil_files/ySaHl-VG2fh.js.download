;/*FB_PKG_DELIM*/

__d("PolarisPostFastShareSheet.react",["PolarisLogger","PolarisMediaHelpers","PolarisPostShareUtils","PolarisPostTypeUtils","PolarisShareHelpers","PolarisShareSheet.react","nullthrows","qex","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.unstable_useMemoCache;function a(a){var b,e=k(29),f=a.onClose;a=a.post;var g=c("usePolarisAnalyticsContext")(),h;if(e[0]!==a){var l;h=d("PolarisPostTypeUtils").getPostType(a);l=((l=a.owner)==null?void 0:l.username)||"";l=d("PolarisShareHelpers").getShareDescription(l,h);e[0]=a;e[1]=l;e[2]=h}else l=e[1],h=e[2];var m=l;e[3]!==a?(l=d("PolarisPostShareUtils").getShareURL(a),e[3]=a,e[4]=l):l=e[4];var n=l,o;e[5]!==g||e[6]!==h?(l=function(){d("PolarisLogger").logAction("shareClick",{source:g,type:h})},o=[g,h],e[5]=g,e[6]=h,e[7]=l,e[8]=o):(l=e[7],o=e[8]);j(l,o);e[9]!==f?(l=function(){f()},e[9]=f,e[10]=l):l=e[10];o=l;e[11]!==g||e[12]!==h||e[13]!==f||e[14]!==m||e[15]!==n?(l=function(){d("PolarisLogger").logAction("nativeShareClick",{source:g,type:h}),f(),d("PolarisShareHelpers").shareWithNative(m,n,"ig_web_button_native_share")},e[11]=g,e[12]=h,e[13]=f,e[14]=m,e[15]=n,e[16]=l):l=e[16];l=l;if(a.owner==null)return null;var p;e[17]!==a?(p=c("qex")._("569")?d("PolarisMediaHelpers").shouldShowShareButton(null,a.audience,a.igMediaSharingDisabled):d("PolarisPostShareUtils").getIsShareable(a,c("nullthrows")(a.owner)),e[17]=a,e[18]=p):p=e[18];p=p;b=(b=a.owner)==null?void 0:b.id;var q;e[19]!==g||e[20]!==m||e[21]!==a.id||e[22]!==b||e[23]!==h||e[24]!==o||e[25]!==l||e[26]!==p||e[27]!==n?(q=i.jsx(c("PolarisShareSheet.react"),{analyticsContext:g,description:m,entityID:a.id,entityOwnerID:b,entityType:h,onClose:o,onNativeShare:l,shareEnabled:p,url:n,utmSource:"ig_web_button_share_sheet"}),e[19]=g,e[20]=m,e[21]=a.id,e[22]=b,e[23]=h,e[24]=o,e[25]=l,e[26]=p,e[27]=n,e[28]=q):q=e[28];return q}g["default"]=a}),98);